<div id="wrapper">
    <hospital-menu title="activeList"></hospital-menu>
    <div class="fixHeight"></div>
    <div id="page-wrapper">
        <div id="page-inner">
            <div class="row">
                <div class="col-md-12">
                    <h2>活动列表</h2>
                </div>
            </div>
            <!-- /. ROW  -->
            <hr/>
            <!--活动列表start-->
            <ul id="activeTab" class="nav nav-tabs">
                <li class="active">
                    <a href="#underwayActive" data-toggle="tab" ng-click="">已发布</a>
                </li>
                <li>
                    <a href="#finishedActive" data-toggle="tab" ng-click="">已结束</a>
                </li>
            </ul>
            <div id="activeContent" class="tab-content">
                <div class="tab-pane fade in active" style="margin-top: 2%;" id="underwayActive">
                    <div class="col-md-12">
                        <!-- Advanced Tables -->
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                活动列表
                            </div>
                            <div class="panel-body">
                                <div class="table-responsive">
                                    <div class="dataTables_wrapper form-inline" role="grid">
                                        <div class="panel-heading">
                                            <input type="text" class="form-control input-sm" placeholder="活动名称" style="width:15%;" ng-model="param.searchValue">
                                            <div class="date-picker input-daterange" data-date-format="yyyy-mm-dd" style="display:inline;">
                                                <span style="margin:0 5%">
                                                    发布日期<input name="dtBegin" type="text" class="input-sm" ng-model="startDate" style="margin-left:2%;">
                                                    —<input name="dtEnd" type="text" class="input-sm" ng-model="endDate" style="margin-left:1%;">
                                                </span>
                                            </div>
                                            <button class="btn btn-default" style="width:10%;" ng-click="searchPageList()">查询</button>
                                            <button class="btn btn-primary" style="width:10%;" ui-sref="activeDetail({type:'new'})">发布活动</button>
                                        </div>
                                        <table class="table table-striped table-bordered table-hover text-center">
                                            <thead>
                                            <tr>
                                                <th class="text-center">活动名称</th>
                                                <th class="text-center">活动地址</th>
                                                <th class="text-center">人数上限</th>
                                                <th class="text-center">开始时间</th>
                                                <th class="text-center">结束时间</th>
                                                <th class="text-center">发布时间</th>
                                                <th class="text-center">操作</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr ng-repeat="item in PublishResponse.list">
                                                <td>{{item.activityName}}</td>
                                                <td>{{item.activityAddress}}</td>
                                                <td>{{item.peopleNum}}</td>
                                                <td>{{item.activityStartDate | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                                                <td>{{item.activityEndDate | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                                                <td>{{item.createTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                                                <td>
                                                    <a ui-sref="activeDetail({type:'check',activityId:item.activityId})">详情</a>
                                                    <a ui-sref="activeStatistics">统计管理</a>
                                                    <a ng-click="delete('publish',item.activityId)">取消</a>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <div page-tool></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--End Advanced Tables -->
                    </div>
                </div>
                <div class="tab-pane fade" style="margin-top: 2%;" id="finishedActive">
                    <div class="col-md-12">
                        <!-- Advanced Tables -->
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                活动列表
                            </div>
                            <div class="panel-body">
                                <div class="table-responsive">
                                    <div class="dataTables_wrapper form-inline" role="grid">
                                        <div class="panel-heading">
                                            <input type="text" class="form-control input-sm" placeholder="活动名称" style="width:15%;" ng-model="param.searchValue">
                                            <div class="date-picker input-daterange" data-date-format="yyyy-mm-dd" style="display:inline;">
                                                <span style="margin:0 5%">
                                                    发布日期<input name="dtBegin" type="text" class="input-sm" ng-model="startDate" style="margin-left:2%;">
                                                    —<input name="dtEnd" type="text" class="input-sm" ng-model="endDate" style="margin-left:1%;">
                                                </span>
                                            </div>
                                            <button class="btn btn-default" style="width:10%;" ng-click="searchPageList()">查询</button>
                                            <button class="btn btn-primary" style="width:10%;" ui-sref="activeDetail({type:'new'})">发布活动</button>
                                        </div>
                                        <table class="table table-striped table-bordered table-hover text-center">
                                            <thead>
                                            <tr>
                                                <th class="text-center">活动名称</th>
                                                <th class="text-center">活动地址</th>
                                                <th class="text-center">人数上限</th>
                                                <th class="text-center">开始时间</th>
                                                <th class="text-center">结束时间</th>
                                                <th class="text-center">发布时间</th>
                                                <th class="text-center">操作</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr ng-repeat="item in endResponse.list">
                                                <td>{{item.activityName}}</td>
                                                <td>{{item.activityAddress}}</td>
                                                <td>{{item.peopleNum}}</td>
                                                <td>{{item.activityStartDate | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                                                <td>{{item.activityEndDate | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                                                <td>{{item.createTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                                                <td>
                                                    <a ui-sref="activeDetail({type:'check',activityId:item.activityId})">详情</a>
                                                    <a ui-sref="activeStatistics">统计管理</a>
                                                    <a ng-click="delete('end',item.activityId)">取消</a>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <div page-tool></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--End Advanced Tables -->
                    </div>
                </div>
            </div>
            <!--活动列表end-->

            <div class="alertContainer" ng-if="alertInfo">
                <div class="alertTit">确认要取消（删除）该活动？</div>
                <div class="alertBtn">
                    <div ng-click="delSure()">确认</div>
                    <div class="keepLight" ng-click="delCancle()">取消</div>
                </div>
            </div>
        </div>
    </div>
</div>
